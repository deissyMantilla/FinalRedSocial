/* ARRAY DE GRUPOS */
const groups = [
	{
		nombre: 'Ladys Programming',
		descripcion:
			'Somos encargados de hacer saber que la programación de computadoras y las habilidades de codificación siguen siendo algunos de los conocimientos más buscados en el mercado laboral, y a medida que la industria de la tecnología está en auge, cada vez más mujeres obtienen una licenciatura o un título de asociado en el campo para que puedan aprender habilidades de programación',
		logo: './imagenesGrupos/grupo0.jpg',
		miembros: '1178 seguidores '
	},
	{
		nombre: 'TechWo',
		descripcion:
			'Somos una comunidad formada por programadoras, diseñadoras y testers -entre otras- que busca generar y divulgar conocimiento para: motivarnos a continuar participando activamente en el mundo de la informática y a compartirlo con más mujeres.',
		logo: './imagenesGrupos/grupo1.jpg',
		miembros: '765 seguidores'
	},
	{
		nombre: 'la programadora',
		descripcion:
			'Esta comunidad de programadoras está diseñada para que tanto aficionadas como profesionales puedan disponer de una herramienta completa y actualizada, con el fin de compartir conocimientos, resolver dudas o publicar sus propias creaciones.',
		logo: './imagenesGrupos/grupo2.jpg',
		miembros: '558 seguidores'
	},
	{
		nombre: 'Betabeers',
		descripcion:
			'Betabeers es una comunidad de desarrolladoras que organizan encuentros mensuales para compartir conocimientos sobre tecnología y Startups',
		logo: './imagenesGrupos/grupo3.jpg',
		miembros: '1.589 seguidores'
	},
	{
		nombre: 'WW Code',
		descripcion:
			'Women Who Code es una organización global sin ánimo de lucro dedicada a inspirar a las mujeres a la excelencia en carreras en tecnología. Nuestra visión es un mundo donde las mujeres estén proporcionalmente representadas como líderes técnicas, ejecutivas, fundadoras de compañías, inversoras de capital, miembros de juntas e ingenieras de software.',
		logo: './imagenesGrupos/grupo4.jpg',
		miembros: '4250 seguidores'
	},
	{
		nombre: 'Bogota.JS',
		descripcion:
			'aprende con nosotros, BogotáJS es un espacio gratuito y libre para aprender y compartir conocimiento sobre JavaScript. Realizamos diferentes eventos mensuales que ampliarán tus conocimientos sobre esta tecnología y otras tecnologías aledañas',
		logo: './imagenesGrupos/grupo5.jpg',
		miembros: '4189 seguidores'
	},
	{
		nombre: 'AI HUB Inteligencia Artificial',
		descripcion:
			'Ven y conoce lo mas avanzado y los mas aplicable hoy en inteligencia artificial en el mundo. Expertos de India, Silicon Valley y Colombia',
		logo: './imagenesGrupos/grupo6.jpg',
		miembros: '200 seguidores'
	},
	{
		nombre: 'Pioneras Developer',
		descripcion:
			'PionerasDev es el mas grande y activo grupo de ingenieras dedicadas a inspirar a otras mujeres a avanzar en carreras tecnológicas. Tenemos una visión del mundo donde las mujeres son un ente representativo del mundo de la ingeniería.',
		logo: './imagenesGrupos/grupo7.jpg',
		miembros: '2876 seguidores'
	},
	{
		nombre: 'Tecnología y educación',
		descripcion:
			'El grupo Tecnología, cultura y educación es una muy buena opción a elegir si quieres iniciarte en este mundo tan dinámico y comprobar por ti mismo que  la tecnología es una forma de cultura',
		logo: './imagenesGrupos/grupo8.jpg',
		miembros: '786 seguidores'
	},
	{
		nombre: 'Abierto al Público',
		descripcion:
			'En Abierto al Público, exploramos el uso del conocimiento abierto a través de los datos, el código y otros medios. El conocimiento abierto se define como conocimiento accesible, libre de uso, y gratuito, hacemos parte de un movimiento que busca generar soluciones para el bien público de manera colaborativa.',
		logo: './imagenesGrupos/grupo9.jpg',
		miembros: '1243 seguidores'
	}
];

/* ARRAY DE PUBLICACIONES*/
var publicaciones0 = [
	{
		content:
			'El desarrollo cibernético existente en nuestros días bebe en parte del legado de una dama del siglo XIX inglés, Ada Lovelace, quien creó el primer algoritmo para ser procesado por una máquina',
		userlogo: './imagenesUserLogo/userlogo_0-1.jpg',
		username: 'Augusta Ada King',
		date: '13/10/2015',
		image: './imagenesPublicaciones/publicacion0-1.jpg'
	},
	{
		content:
			'HackGirls invita a todas las mujeres programadoras a meetup de tecnologías web aplicadas a la industria. La iniciativa tiene por finalidad generar una instancia de aprendizaje para mujeres programadoras.',
		userlogo: './imagenesUserLogo/userlogo_0-2.jpg',
		username: 'Andrea Bastarrica',
		date: '02/07/2019',
		image: './imagenesPublicaciones/publicacion0-2.jpg'
	},
	{
		content:
			'La Conferencia líder en Latinoamérica sobre nuevas culturas de negocio y trabajo remoto se llevará a cabo en uno de los lugares más australes del mundo.',
		userlogo: './imagenesUserLogo/userlogo_0-3.jpg',
		username: 'Fernanda Arab',
		date: '22/07/2019',
		image: './imagenesPublicaciones/publicacion0-3.jpg'
	}
];

var publicaciones1 = [
	{
		content:
			'Globant se une a Acámica para contribuir a la formación del talento del futuro en América Latina. Financiarán 500 becas para estudiar tecnología en Argentina, Colombia y México',
		userlogo: './imagenesUserLogo/userlogo_1-1.jpg',
		username: 'Gloria Cortés',
		date: '10/09/2019',
		image: './imagenesPublicaciones/publicacion1-1.jpg'
	},
	{
		content:
			'Este lunes recordamos a Grecia García, nuestra #ProgramadoraDeLaSemana, quien llegó a ser product designer en GM (General Motors).Aquí entrevista completa: https://techiesproject.com',
		userlogo: './imagenesUserLogo/userlogo_1-2.jpg',
		username: 'Sofía Cifuentes',
		date: '09/09/2019',
		image: './imagenesPublicaciones/publicacion1-2.jpg'
	},
	{
		content:
			'Un líder innovador no sólo tiene muchas ideas, tiene la habilidad de formar una visión alrededor de ellas, las lleva a cabo y las comunica efectivamente.',
		userlogo: './imagenesUserLogo/userlogo_1-3.jpg',
		username: 'Claudia Pulido',
		date: '07/09/2019',
		image: './imagenesPublicaciones/publicacion1-3.jpg'
	}
];

var publicaciones2 = [
	{
		content:
			'Apple presenta el nuevo iPhone 11 disponible el próximo 20 de septiembre que llega con dos cámaras traseras de 12 megapíxeles cada una: una gran angular y una ultra gran angular. ',
		userlogo: './imagenesUserLogo/userlogo_2-1.jpg',
		username: 'María Paula R.',
		date: '11/09/2019',
		image: './imagenesPublicaciones/publicacion2-1.jpg'
	},
	{
		content:
			'La pregunta que nos atañe es la siguiente: ¿Se puede seguir siendo programador cumplidos / pasados los 50 años? Esto lo tenemos claro, la respuesta es “sí”.',
		userlogo: './imagenesUserLogo/userlogo_2-2.jpg',
		username: 'Veronica Mesa',
		date: '05/06/2017',
		image: './imagenesPublicaciones/publicacion2-2.jpg'
	},
	{
		content:
			'Si estamos pensando en poner en práctica el uso de la REST API para nuestros desarrollos hay muchos ejemplos que podemos tener en cuenta, pero en este caso buscaremos hacerlo con un caso práctico.',
		userlogo: './imagenesUserLogo/userlogo_2-3.jpg',
		username: 'Fernanda Diaz',
		date: '15/08/2019',
		image: './imagenesPublicaciones/publicacion2-3.jpg'
	}
];

var publicaciones3 = [
	{
		content:
			'Nuestra civilización depende igual del software que del agua”,Si los ordenadores fallaran moriríamos de hambre, según este mítico informático danés, autor de una de las herramientas de programación más usadas del mundo.',
		userlogo: './imagenesUserLogo/userlogo_3-1.jpg',
		username: 'Juliana Perez',
		date: '05/02/2019',
		image: './imagenesPublicaciones/publicacion3-1.jpg'
	},
	{
		content:
			'Cómo enseñar programación a niños: Hace no demasiados años, era impensable, pero ahora, ocurre: las librerías (físicas o virtuales) están llenas de libros y cuentos para iniciar a niños pequeños en la programación.',
		userlogo: './imagenesUserLogo/userlogo_3-2.jpg',
		username: 'Maria Rivas',
		date: '03/08/2018',
		image: './imagenesPublicaciones/publicacion3-2.jpg'
	},
	{
		content:
			'Programación, un arte basado en la lógica y creatividad, mediante la programación, mantenemos mentalmente un mapa de lo que estamos haciendo, que se está modificando, por qué, cómo, y en qué orden.',
		userlogo: './imagenesUserLogo/userlogo_3-3.jpg',
		username: 'Andrea González',
		date: '29/05/2019',
		image: './imagenesPublicaciones/publicacion3-3.jpg'
	}
];

var publicaciones4 = [
	{
		content:
			'El poder de la Web está en su universalidad. Brindar acceso a cualquier persona independientemente de la discapacidad que presente es un aspecto esencial',
		userlogo: './imagenesUserLogo/userlogo_4-1.jpg',
		username: 'Catalina Saavedra',
		date: '04/09/2019',
		image: './imagenesPublicaciones/publicacion4-1.jpg'
	},
	{
		content:
			'En la actualidad con la evolución de la Ciencia y la Tecnología, las matemáticas se han convertido en parte fundamental para la realización de nuevas profesiones como lo es la Ciencia de Datos.',
		userlogo: './imagenesUserLogo/userlogo_4-2.jpg',
		username: 'Natalia Ramírez',
		date: '10/08/2019',
		image: './imagenesPublicaciones/publicacion4-2.jpg'
	},
	{
		content:
			'Estamos dedicadas a proveer una experiencia empoderadora a todas las personas quienes participan o apoyan nuestra comunidad. Nuestros eventos están dirigidos a inspirar a las mujeres a la excelencia en carreras en tecnología',
		userlogo: './imagenesUserLogo/userlogo_4-3.jpg',
		username: 'Tania Vaca',
		date: '15/06/2019',
		image: './imagenesPublicaciones/publicacion4-3.jpg'
	}
];
var publicaciones5 = [
	{
		content: 'Cómo tener equipos de trabajo y no morir en el intento',
		userlogo: './imagenesUserLogo/userlogo_5-1.jpg',
		username: 'Sara Sinuco',
		date: '22/08/2019',
		image: './imagenesPublicaciones/publicacion5-1.jpg'
	},
	{
		content: '5 conceptos esenciales de JavaScript que tod@s deberiamos conocer!!',
		userlogo: './imagenesUserLogo/userlogo_5-2.jpg',
		username: 'Nathaly Villamor',
		date: '22/07/2019',
		image: './imagenesPublicaciones/publicacion5-2.jpg'
	},
	{
		content:
			'El primer taller del año! Vamos a codificar un rato para animar y personalizar una tarjeta de presentación, al final tendremos un espacio para conocernos',
		userlogo: './imagenesUserLogo/userlogo_5-3.jpg',
		username: 'Milena Suarez',
		date: '01/04/2019',
		image: './imagenesPublicaciones/publicacion5-3.jpg'
	}
];

var publicaciones6 = [
	{
		content:
			'Me parece muy interesante incursionar en el mundo de la inteligencia artificial, pienso que es algo que esta cada vez mas presente en el mundo y es muy útil.',
		userlogo: './imagenesUserLogo/userlogo_6-1.jpg',
		username: 'Angelica Gomez',
		date: '29/8/2019',
		image: './imagenesPublicaciones/publicacion6-1.jpg'
	},
	{
		content:
			'Me encantan sus talleres, tienen invitados muy profesionales que te enseñan fundamentos indispensables para conocer más acerca de la inteligencia artificial',
		userlogo: './imagenesUserLogo/userlogo_6-2.jpg',
		username: 'Camila Andrea Castro',
		date: '9/8/2019',
		image: './imagenesPublicaciones/publicacion6-2.jpg'
	},
	{
		content:
			'La inteligencia artificial es un área de tecnología en rápida evolución que promete ser un factor de cambio para diversas industrias y profesiones',
		userlogo: './imagenesUserLogo/userlogo_6-3.jpg',
		username: 'Sara Muñoz',
		date: '27/07/2019',
		image: './imagenesPublicaciones/publicacion6-3.jpg'
	}
];
var publicaciones7 = [
	{
		content:
			'Todas las que estamos aquí creemos que es un mundo que debe cambiar, y grupos como este nos da herramientas para hacer eso posible.',
		userlogo: './imagenesUserLogo/userlogo_7-1.jpg',
		username: 'Carolina Diaz',
		date: '4/09/2019',
		image: './imagenesPublicaciones/publicacion7-1.jpg'
	},
	{
		content:
			'Tú misma te encasillas. Te dices a ti misma que eres de letras y punto. Cuando te encuentras con el mundo de la programación se rompen todos los paradigmas.',
		userlogo: './imagenesUserLogo/userlogo_7-2.jpg',
		username: 'Ramona Salvatore',
		date: '02/09/2019',
		image: './imagenesPublicaciones/publicacion7-2.jpg'
	},
	{
		content:
			'Nos hemos dado cuenta de que las empresas tecnológicas no tienen suficiente personal para cubrir sus vacantes y además el sector reclamaba diversidad,',
		userlogo: './imagenesUserLogo/userlogo_7-3.jpg',
		username: 'Patricia Merchan',
		date: '22/08/2019',
		image: './imagenesPublicaciones/publicacion7-3.jpg'
	}
];
var publicaciones8 = [
	{
		content:
			'Netflix ya no es el mayor consumidor de ancho de banda del mundo. El 2019 Global Internet Phenomena Report de Sandvine revela que a nivel mundial, Netflix ha sido desplazada los sitios de transmisión de medios basados en el protocolo HTTP',
		userlogo: './imagenesUserLogo/userlogo_8-1.jpg',
		username: 'York Perry',
		date: '11/09/2019',
		image: './imagenesPublicaciones/publicacion8-1.jpg'
	},
	{
		content:
			'En Internet existen 1.700 millones de sitios web. Pero lo llamativo de esto es que la mayoría de se encuentra actualmente inactivo, por lo que podríamos decir que Internet es actualmente un gran cementerio de contenidos',
		userlogo: './imagenesUserLogo/userlogo_8-2.jpg',
		username: 'Felipe Garrido',
		date: '08/09/2019',
		image: './imagenesPublicaciones/publicacion8-2.jpg'
	},
	{
		content:
			'Profesores de colegios públicos podrán aprender de programación. Este proyecto,  busca desarrollar habilidades en lenguaje y metodología de programación en un banco de docentes de colegios públicos, con el fin de estimular la creatividad de los estudiantes para que resuelvan problemas mediante el uso de herramientas TIC',
		userlogo: './imagenesUserLogo/userlogo_8-3.jpg',
		username: 'Fernanda Mejia',
		date: '29/08/2019',
		image: './imagenesPublicaciones/publicacion8-3.jpg'
	}
];
var publicaciones9 = [
	{
		content:
			'El diseño colaborativo, al igual que otras metodologías de innovación abierta, aprovecha el poder del grupo para solucionar conjuntamente los problemas, este proceso reúne virtualmente a un grupo diverso para respaldar el desarrollo iterativo de una intervención',
		userlogo: './imagenesUserLogo/userlogo_9-1.jpg',
		username: 'Michelle Marshall',
		date: '20/04/2017',
		image: './imagenesPublicaciones/publicacion9-1.jpg'
	},
	{
		content:
			'¿sabías que GitHub es una gran herramienta para trabajar con otras personas que están aprovechando la tecnología para compartir su conocimiento o información? Si estás contribuyendo a un proyecto digital, incluso sin escribir código, hay un lugar para ti en GitHub',
		userlogo: './imagenesUserLogo/userlogo_9-2.jpg',
		username: 'Jesse Biroscak',
		date: '29/03/2018',
		image: './imagenesPublicaciones/publicacion9-2.jpg'
	},
	{
		content:
			'Bootcamps de programación: una respuesta a escasez de talento digital en américa latina, con los bootcamps de programación se genera una alternativa rápida y eficaz para solventar las habilidades digitales',
		userlogo: './imagenesUserLogo/userlogo_9-3.jpg',
		username: 'Mildred Rivera',
		date: '05/08/2019',
		image: './imagenesPublicaciones/publicacion9-3.jpg'
	}
];

/* DIVS Y PANELES PRINCIPALES */
const divGrupo = document.querySelector('#divGrupo');
const divPublicacion = document.querySelector('.divPublicacion');
const panelCentro = document.querySelector('#panelCentroArriba');
const panelIzquierda = document.querySelector('#grupoEnPanel');
const panelDerecha = document.querySelector('#panelDerecha');
const inputBuscarGrupo = document.querySelector('#inputBuscarGrupo');

// FILTRAR POR NOMBRE DEL GRUPO EN EL INPUT
inputBuscarGrupo.addEventListener('keyup', (event) => {
	//if (event.keyCode === 13) {
	let gruposFiltrado = [];
	groups.forEach((g, i) => {
		if (g.nombre.includes(inputBuscarGrupo.value)) {
			gruposFiltrado.push(g);
		}
	});
	panelIzquierda.innerHTML = '';
	refrescarPanelIzquierda(gruposFiltrado);
	//}
});

/* REFRESCAR PANEL IZQUIERDA*/
function refrescarPanelIzquierda(g) {
	var contador = 10;
	g.forEach((element, index) => {
		let clone = divGrupo.cloneNode(true);
		const divNombre = clone.querySelector('.divNombre');
		const logo = clone.querySelector('.logo');
		clone.dataset.id = index;
		divNombre.innerHTML = element.nombre;
		divNombre.dataset.id = index;
		logo.src = element.logo;
		logo.dataset.id = index;
		clone.id = contador;
		contador++;
		panelIzquierda.appendChild(clone);
	});
}

panelIzquierda.innerHTML = '';
panelCentro.innerHTML = '';
refrescarPanelIzquierda(groups);
validarPanelCentroLimpio(0);
refrescarPanelDerecha(groups[0]);

/* IDENTIFICAR GRUPO CLICK */
panelIzquierda.addEventListener('click', (e) => {
	const index = e.target.dataset.id;
	validarPanelCentroLimpio(index);
	refrescarPanelDerecha(groups[index]);
});

/* VALIDAR QUE EL PANEL CENTRAL ESTÉ LIMPIO*/
function validarPanelCentroLimpio(pIndice) {
	if (panelCentro.childNodes.length >= 6) {
		console.log('tocalimpiar');
		limpiarPanelCentro();
		refrescarPanelCentro(pIndice);
	} else if (panelCentro.childNodes.length < 6) {
		refrescarPanelCentro(pIndice);
	}
}

/* LIMPIAR PANEL CENTRAL */
function limpiarPanelCentro() {
	panelCentro.innerHTML = '';
}

/* REFRESCAR PANEL CENTRAL SI ESTÁ LIMPIO*/
function refrescarPanelCentro(pIndice) {
	let index = pIndice;
	let publicacion = [];
	let numeroNodos = 0;
	if (index == 0) {
		publicacion = publicaciones0;
	}
	if (index == 1) {
		publicacion = publicaciones1;
	}
	if (index == 2) {
		publicacion = publicaciones2;
	}
	if (index == 3) {
		publicacion = publicaciones3;
	}
	if (index == 4) {
		publicacion = publicaciones4;
	}
	if (index == 5) {
		publicacion = publicaciones5;
	}
	if (index == 6) {
		publicacion = publicaciones6;
	}
	if (index == 7) {
		publicacion = publicaciones7;
	}
	if (index == 8) {
		publicacion = publicaciones8;
	}
	if (index == 9) {
		publicacion = publicaciones9;
	}
	panelCentro.innerHTML = '';
	publicacion.forEach((element, index) => {
		let clone = divPublicacion.cloneNode(true);
		let divUserLogo = clone.querySelector('.divUserLogo');
		let divUserName = clone.querySelector('.divUsername');
		let divDate = clone.querySelector('.divDate');
		let divImage = clone.querySelector('.divImage');
		let divContent = clone.querySelector('.divContent');
		clone.dataset.id = index;
		divUserLogo.src = element.userlogo;
		divUserLogo.dataset.id = index;
		divUserName.innerHTML = element.username;
		divUserName.dataset.id = index;
		divDate.innerHTML = element.date;
		divDate.dataset.id = index;
		divImage.src = element.image;
		divImage.dataset.id = index;
		divContent.innerHTML = element.content;
		divContent.dataset.id = index;
		numeroNodos++;
		clone.id = 'pub' + numeroNodos;
		panelCentro.appendChild(clone);
	});
}

/* REFRESCAR PANEL DE LA DERECHA*/
function refrescarPanelDerecha(pGrupo) {
	let logoDerecha = document.querySelector('#logoDerecha');
	let divNombreDerecha = document.querySelector('#divNombreDerecha');
	let divMiembros = document.querySelector('#divMiembros');
	let divDescripcion = document.querySelector('#divDescripcion');
	let grupo = pGrupo;
	let boton = document.querySelector('#seguir');

	logoDerecha.src = grupo.logo;
	divNombreDerecha.innerHTML = grupo.nombre;
	divMiembros.innerHTML = grupo.miembros;
	divMiembros.innerHTML = grupo.miembros;
	divDescripcion.innerHTML = grupo.descripcion;
	boton.style.display = '';
}
console.log(divPublicacion);

function nuevaPublicacion() {
	const nombreUsuario = localStorage.getItem('nombre');
	const apellidoUsuario = localStorage.getItem('apellido');
	const inputPublicacionNueva = document.querySelector('#nuevaPublicacion');
	let divInicial = document.querySelector('#pub1');
	let clone = divPublicacion.cloneNode(true);
	let divUserLogo = clone.querySelector('.divUserLogo');
	let divUserName = clone.querySelector('.divUsername');
	let divDate = clone.querySelector('.divDate');
	let divImage = clone.querySelector('.divImage');
	let divContent = clone.querySelector('.divContent');
	divUserLogo.src = './imagenesUserLogo/userlogo_9-2.jpg'; //usuario.userlogo;
	divUserName.innerHTML = nombreUsuario + ' ' + apellidoUsuario; //usuario.userName;
	divDate.innerHTML = '13/09/2019';
	divImage.src = './imagenesPublicaciones/publicacion0-2.jpg';
	divContent.innerHTML = inputPublicacionNueva.value;
	clone.id = 'pub1';
	panelCentro.insertBefore(clone, divInicial);
}

function dejarDeSeguir() {
	/* CONSTANTES PARA OCULTAR Y MOSTRAR GRUPOS */
	const divGrupo0 = document.getElementById('10');
	const divGrupo1 = document.getElementById('11');
	const divGrupo2 = document.getElementById('12');
	const divGrupo3 = document.getElementById('13');
	const divGrupo4 = document.getElementById('14');
	const divGrupo5 = document.getElementById('15');
	const divGrupo6 = document.getElementById('16');
	const divGrupo7 = document.getElementById('17');
	const divGrupo8 = document.getElementById('18');
	const divGrupo9 = document.getElementById('19');
	const arrayGrupos = [
		divGrupo0,
		divGrupo1,
		divGrupo2,
		divGrupo3,
		divGrupo4,
		divGrupo5,
		divGrupo6,
		divGrupo7,
		divGrupo8,
		divGrupo9
	];
	let botonSeguir = document.querySelector('#seguir');
	let divNombreDerecha = document.querySelector('#divNombreDerecha');
	let nombreActual = divNombreDerecha.innerHTML;
	if (botonSeguir.value == 'false')
		for (let i = 0; i < groups.length; i++) {
			if (groups[i].nombre == nombreActual) {
				arrayGrupos[i].style.display = 'none';
				botonSeguir.innerHTML = 'Seguir de nuevo';
				botonSeguir.value = true;
			}
		}
	else if (botonSeguir.value == 'true') {
		for (let i = 0; i < groups.length; i++) {
			if (groups[i].nombre == nombreActual) {
				arrayGrupos[i].style.display = '';
				botonSeguir.innerHTML = 'Dejar de seguir';
				botonSeguir.value = false;
			}
		}
	}
}
